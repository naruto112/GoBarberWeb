(this["webpackJsonp06-gobarber-web"]=this["webpackJsonp06-gobarber-web"]||[]).push([[0],{115:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(70),i=t.n(o),c=t(14),l=t(2),u=t(3);function s(){var n=Object(l.a)(["\n\n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        outline: 0;\n    }\n\n    body {\n        background: #312E38;\n        color: #FFF;\n        -webkit-font-smoothing: antialiased;\n    }\n\n    body, input, button {\n        font-family: 'Roboto Slab', serif;\n        font-size: 16px;\n    }\n\n    h1, h2, h3, h4, h5, h6, strong {\n        font-weight: 500;\n    }\n\n    button {\n        cursor: pointer;\n    }\n\n"]);return s=function(){return n},n}var d=Object(u.a)(s()),p=t(13),m=t.n(p),f=t(20),b=t(16),g=t(74),h=t.n(g).a.create({baseURL:"https://api-barber.msystem.dev/"}),v=Object(r.createContext)({}),x=function(n){var e=n.children,t=Object(r.useState)((function(){var n=localStorage.getItem("@GoBarber:token"),e=localStorage.getItem("@GoBarber:user");return n&&e?(h.defaults.headers.authorization="Bearer ".concat(n),{token:n,user:JSON.parse(e)}):{}})),o=Object(b.a)(t,2),i=o[0],c=o[1],l=Object(r.useCallback)(function(){var n=Object(f.a)(m.a.mark((function n(e){var t,r,a,o,i,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.email,r=e.password,n.next=3,h.post("sessions",{email:t,password:r});case 3:a=n.sent,o=a.data,i=o.token,l=o.user,localStorage.setItem("@GoBarber:token",i),localStorage.setItem("@GoBarber:user",JSON.stringify(l)),h.defaults.headers.authorization="Bearer ".concat(i),c({token:i,user:l});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),u=Object(r.useCallback)((function(){localStorage.removeItem("@GoBarber:token"),localStorage.removeItem("@GoBarber:user"),c({})}),[]),s=Object(r.useCallback)((function(n){localStorage.setItem("@GoBarber:user",JSON.stringify(n)),c({token:i.token,user:n})}),[c,i.token]);return a.a.createElement(v.Provider,{value:{user:i.user,signIn:l,signOut:u,updateUser:s}},e)};function E(){return Object(r.useContext)(v)}var y=t(28),j=t(75),O=t(50),k=t(5);function w(){var n=Object(l.a)(["\n      align-items: center;\n\n      svg {\n        margin-top: 0;\n      }\n    "]);return w=function(){return n},n}function D(){var n=Object(l.a)(["\n  width: 300px;\n\n  position: relative;\n  padding: 16px 30px 16px 16px;\n  border-radius: 10px;\n  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);\n\n  display: flex;\n\n  & + div {\n    margin-top: 8px;\n  }\n\n  ","\n\n  > svg {\n    margin: 4px 12px 0 0;\n  }\n\n  div {\n    flex: 1;\n  }\n\n  p {\n    margin-top: 4px;\n    font-size: 14px;\n    opacity: 0.8;\n    line-height: 20px;\n  }\n\n  button {\n    position: absolute;\n    right: 16px;\n    top: 19px;\n    opacity: 0.6;\n    border: 0;\n    background: transparent;\n    color: inherit;\n  }\n\n  ","\n"]);return D=function(){return n},n}function S(){var n=Object(l.a)(["\n    background: #fddede;\n    color: #c53030;\n  "]);return S=function(){return n},n}function C(){var n=Object(l.a)(["\n    background: #e6fffa;\n    color: #2e656a;\n  "]);return C=function(){return n},n}function z(){var n=Object(l.a)(["\n    background: #ebf8ff;\n    color: #3172b7;\n  "]);return z=function(){return n},n}var P={info:Object(u.b)(z()),success:Object(u.b)(C()),error:Object(u.b)(S())},_=Object(u.c)(O.a.div)(D(),(function(n){return P[n.type||"info"]}),(function(n){return!n.has_description&&Object(u.b)(w())})),M={info:a.a.createElement(k.f,{size:24}),error:a.a.createElement(k.a,{size:24}),success:a.a.createElement(k.d,{size:24})},F=function(n){var e=n.message,t=n.style,o=R().removeToast;return Object(r.useEffect)((function(){var n=setTimeout((function(){o(e.id)}),3e3);return function(){clearTimeout(n)}}),[o,e.id]),a.a.createElement(_,{type:e.type,has_description:Number(!!e.description),style:t},M[e.type||"info"],a.a.createElement("div",null,a.a.createElement("strong",null,e.title),e.description&&a.a.createElement("p",null,e.description)),a.a.createElement("button",{onClick:function(){return o(e.id)},type:"button"},a.a.createElement(k.l,{size:18})))};function B(){var n=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 30px;\n  overflow: hidden;\n"]);return B=function(){return n},n}var N=u.c.div(B()),T=function(n){var e=n.messages,t=Object(O.b)(e,(function(n){return n.id}),{from:{right:"-120%",opacity:0},enter:{right:"0%",opacity:1},leave:{right:"-120%",opacity:0}});return a.a.createElement(N,null,t.map((function(n){var e=n.item,t=n.key,r=n.props;return(a.a.createElement(F,{key:t,style:r,message:e}))})))},q=Object(r.createContext)({}),G=function(n){var e=n.children,t=Object(r.useState)([]),o=Object(b.a)(t,2),i=o[0],c=o[1],l=Object(r.useCallback)((function(n){var e=n.type,t=n.title,r=n.description,a={id:Object(j.uuid)(),type:e,title:t,description:r};c((function(n){return[].concat(Object(y.a)(n),[a])}))}),[]),u=Object(r.useCallback)((function(n){c((function(e){return e.filter((function(e){return e.id!==n}))}))}),[]);return a.a.createElement(q.Provider,{value:{addToast:l,removeToast:u}},e,a.a.createElement(T,{messages:i}))};function R(){var n=Object(r.useContext)(q);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}var X=function(n){var e=n.children;return(a.a.createElement(x,null,a.a.createElement(G,null,e)))},I=t(9),J=t(38),H=function(n){var e=n.isPrivate,t=void 0!==e&&e,r=n.component,o=Object(J.a)(n,["isPrivate","component"]),i=E().user;return a.a.createElement(I.b,Object.assign({},o,{render:function(n){var e=n.location;return t===!!i?a.a.createElement(r,null):a.a.createElement(I.a,{to:{pathname:t?"/":"/dashboard",state:{from:e}}})}}))},A=t(24),V=t(6);function U(n){var e={};return n.inner.forEach((function(n){e[n.path]=n.message})),e}var Y=t(25),Q=t.n(Y),W=t(43);function L(){var n=Object(l.a)(['\n  position: relative;\n\n  span {\n    width: 160px;\n    background: #ff9000;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    opacity: 0;\n    transition: opacity 0.4s;\n    visibility: hidden;\n\n    position: absolute;\n    bottom: calc(100% + 12px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    color: #312e38;\n\n    &::before {\n      content: "";\n      border-style: solid;\n      border-color: #ff9000 transparent;\n      border-width: 6px 6px 0 6px;\n      bottom: 20px;\n      top: 100%;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n  }\n\n  &:hover span {\n    opacity: 1;\n    visibility: visible;\n  }\n']);return L=function(){return n},n}var K=u.c.div(L()),Z=function(n){var e=n.title,t=n.className,r=void 0===t?"":t,o=n.children;return(a.a.createElement(K,{className:r},o,a.a.createElement("span",null,e)))};function $(){var n=Object(l.a)(['\n  height: 20px;\n  margin-left: 11px;\n  svg {\n    margin: 0;\n  }\n  span {\n    background: #c53030;\n    color: #fff;\n\n    &::before {\n      content: "";\n      border-style: solid;\n      border-color: #c53030 transparent;\n      border-width: 6px 6px 0 6px;\n      bottom: 20px;\n      top: 100%;\n      position: absolute;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n  }\n']);return $=function(){return n},n}function nn(){var n=Object(l.a)(["\n      color: #ff9000;\n    "]);return nn=function(){return n},n}function en(){var n=Object(l.a)(["\n      color: #ff9000;\n      border-color: #ff9000;\n    "]);return en=function(){return n},n}function tn(){var n=Object(l.a)(["\n      border-color: #c53030;\n    "]);return tn=function(){return n},n}function rn(){var n=Object(l.a)(["\n  background: #232129;\n  border-radius: 10px;\n  padding: 16px;\n  width: 100%;\n\n  border: 2px solid #232129;\n  color: #312e38;\n\n  display: flex;\n  align-items: center;\n\n  & + div {\n    margin-top: 8px;\n  }\n  \n  ","\n\n  ","\n\n  ","\n\n  input {\n    flex: 1;\n    background: transparent;\n    border: 0;\n    color: #f4ede8;\n\n    &::placeholder {\n      color: #312e38;\n    }\n  }\n\n  svg {\n    margin-right: 16px;\n  }\n"]);return rn=function(){return n},n}var an=u.c.div(rn(),(function(n){return n.isErrored&&Object(u.b)(tn())}),(function(n){return n.isFocused&&Object(u.b)(en())}),(function(n){return n.isFilled&&Object(u.b)(nn())})),on=Object(u.c)(Z)($()),cn=function(n){var e=n.name,t=n.containerStyle,o=void 0===t?{}:t,i=n.icon,c=Object(J.a)(n,["name","containerStyle","icon"]),l=Object(r.useRef)(null),u=Object(r.useState)(!1),s=Object(b.a)(u,2),d=s[0],p=s[1],m=Object(r.useState)(!1),f=Object(b.a)(m,2),g=f[0],h=f[1],v=Object(W.c)(e),x=v.fieldName,E=v.defaultValue,y=v.error,j=v.registerField,O=Object(r.useCallback)((function(){var n;p(!1),h(!!(null===(n=l.current)||void 0===n?void 0:n.value))}),[]),w=Object(r.useCallback)((function(){p(!0)}),[]);return Object(r.useEffect)((function(){j({name:x,ref:l.current,path:"value"})}),[x,j]),a.a.createElement(an,{style:o,isErrored:!!y,isFilled:g,isFocused:d,"data-testid":"input-container"},i&&a.a.createElement(i,{size:20}),a.a.createElement("input",Object.assign({onFocus:w,onBlur:O,defaultValue:E,ref:l},c)),y&&a.a.createElement(on,{title:y},a.a.createElement(k.a,{color:"#c53030",size:20})))},ln=t(12);function un(){var n=Object(l.a)(["\n  background: #ff9000;\n  height: 56px;\n  border-radius: 10px;\n  border: 0;\n  padding: 0 16px;\n  color: #312e38;\n  width: 100%;\n  font-weight: 500;\n  margin-top: 16px;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background: ",";\n  }\n"]);return un=function(){return n},n}var sn=u.c.button(un(),Object(ln.a)(.2,"#ff9000")),dn=function(n){var e=n.children,t=n.loading,r=Object(J.a)(n,["children","loading"]);return(a.a.createElement(sn,Object.assign({type:"button"},r),t?"Carregando...":e))},pn=t(37),mn=t.n(pn);function fn(){var n=Object(l.a)(["\n  flex: 1;\n  background: url(",") no-repeat center;\n  background-size: cover;\n"]);return fn=function(){return n},n}function bn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  animation: "," 1s;\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n\n    h1 {\n      margin-bottom: 24px;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  > a {\n    color: #ff9000;\n    display: block;\n    margin-top: 24px;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-right: 16px;\n    }\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return bn=function(){return n},n}function gn(){var n=Object(l.a)(["\n  from {\n    opacity: 0;\n    transform: translateX(-50px)\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0)\n  }\n"]);return gn=function(){return n},n}function hn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  max-width: 700px;\n"]);return hn=function(){return n},n}function vn(){var n=Object(l.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: stretch;\n"]);return vn=function(){return n},n}var xn=u.c.div(vn()),En=u.c.div(hn()),yn=Object(u.d)(gn()),jn=u.c.div(bn(),yn,Object(ln.a)(.2,"#f4ede8"),Object(ln.a)(.2,"#ff9000")),On=u.c.div(fn(),mn.a),kn=function(){var n=Object(r.useRef)(null),e=E().signIn,t=R().addToast,o=Object(I.g)(),i=Object(r.useCallback)(function(){var r=Object(f.a)(m.a.mark((function r(a){var i,c,l,u;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,null===(i=n.current)||void 0===i||i.setErrors({}),c=V.b().shape({email:V.d().required("E-mail obrigat\xf3rio").email("Digite um e-mail v\xe1lido"),password:V.d().required("Senha obrigat\xf3ria")}),r.next=5,c.validate(a,{abortEarly:!1});case 5:return r.next=7,e({email:a.email,password:a.password});case 7:o.push("/dashboard"),r.next=17;break;case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof V.a)){r.next=16;break}return u=U(r.t0),null===(l=n.current)||void 0===l||l.setErrors(u),r.abrupt("return");case 16:t({type:"error",title:"Erro na autentica\xe7\xe3o",description:"Ocorreu um erro ao fazer login, cheque as credenciais"});case 17:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(n){return r.apply(this,arguments)}}(),[e,t,o]);return a.a.createElement(xn,null,a.a.createElement(En,null,a.a.createElement(jn,null,a.a.createElement("img",{src:Q.a,alt:"GoBarber"}),a.a.createElement(A.a,{ref:n,onSubmit:i},a.a.createElement("h1",null,"Fa\xe7a seu logon"),a.a.createElement(cn,{name:"email",icon:k.i,placeholder:"E-mail"}),a.a.createElement(cn,{name:"password",icon:k.g,type:"password",placeholder:"Senha"}),a.a.createElement(dn,{type:"submit"},"Entrar"),a.a.createElement(c.b,{to:"/forgot-password"},"Esqueci minha senha")),a.a.createElement(c.b,{to:"/signup"},a.a.createElement(k.h,null),"Criar conta"))),a.a.createElement(On,null))},wn=t(79),Dn=t.n(wn);function Sn(){var n=Object(l.a)(["\n  flex: 1;\n  background: url(",") no-repeat center;\n  background-size: cover;\n"]);return Sn=function(){return n},n}function Cn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  animation: "," 1s;\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n\n    h1 {\n      margin-bottom: 24px;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  > a {\n    color: #ff9000;\n    display: block;\n    margin-top: 24px;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-right: 16px;\n    }\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return Cn=function(){return n},n}function zn(){var n=Object(l.a)(["\n  from {\n    opacity: 0;\n    transform: translateX(50px)\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0)\n  }\n"]);return zn=function(){return n},n}function Pn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  max-width: 700px;\n"]);return Pn=function(){return n},n}function _n(){var n=Object(l.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: stretch;\n"]);return _n=function(){return n},n}var Mn=u.c.div(_n()),Fn=u.c.div(Pn()),Bn=Object(u.d)(zn()),Nn=u.c.div(Cn(),Bn,Object(ln.a)(.2,"#f4ede8"),Object(ln.a)(.2,"#ff9000")),Tn=u.c.div(Sn(),Dn.a),qn=function(){var n=Object(r.useRef)(null),e=R().addToast,t=Object(I.g)(),o=Object(r.useCallback)(function(){var r=Object(f.a)(m.a.mark((function r(a){var o,i,c,l;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,null===(o=n.current)||void 0===o||o.setErrors({}),i=V.b().shape({name:V.d().required("Nome obrigat\xf3rio"),email:V.d().required("E-mail obrigat\xf3rio").email("Digite um e-mail v\xe1lido"),password:V.d().min(6,"No m\xednimo 6 digitos")}),r.next=5,i.validate(a,{abortEarly:!1});case 5:return r.next=7,h.post("users",a);case 7:t.push("/"),e({type:"success",title:"Cadastro realizado!",description:"Voc\xea j\xe1 pode fazer seu logon no GoBarber!"}),r.next=18;break;case 11:if(r.prev=11,r.t0=r.catch(0),!(r.t0 instanceof V.a)){r.next=17;break}return l=U(r.t0),null===(c=n.current)||void 0===c||c.setErrors(l),r.abrupt("return");case 17:e({type:"error",title:"Erro no cadastro",description:"Ocorreu um erro ao fazer cadastro, tente novamente"});case 18:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(n){return r.apply(this,arguments)}}(),[e,t]);return a.a.createElement(Mn,null,a.a.createElement(Tn,null),a.a.createElement(Fn,null,a.a.createElement(Nn,null,a.a.createElement("img",{src:Q.a,alt:"GoBarber"}),a.a.createElement(A.a,{ref:n,onSubmit:o},a.a.createElement("h1",null,"Fa\xe7a seu Cadastro"),a.a.createElement(cn,{name:"name",icon:k.k,placeholder:"Nome"}),a.a.createElement(cn,{name:"email",icon:k.i,placeholder:"E-mail"}),a.a.createElement(cn,{name:"password",icon:k.g,type:"password",placeholder:"Senha"}),a.a.createElement(dn,{type:"submit"},"Cadastrar")),a.a.createElement(c.b,{to:"/"},a.a.createElement(k.b,null),"Voltar para logon"))))};function Gn(){var n=Object(l.a)(["\n  flex: 1;\n  background: url(",") no-repeat center;\n  background-size: cover;\n"]);return Gn=function(){return n},n}function Rn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  animation: "," 1s;\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n\n    h1 {\n      margin-bottom: 24px;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  > a {\n    color: #ff9000;\n    display: block;\n    margin-top: 24px;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-right: 16px;\n    }\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return Rn=function(){return n},n}function Xn(){var n=Object(l.a)(["\n  from {\n    opacity: 0;\n    transform: translateX(-50px)\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0)\n  }\n"]);return Xn=function(){return n},n}function In(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  max-width: 700px;\n"]);return In=function(){return n},n}function Jn(){var n=Object(l.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: stretch;\n"]);return Jn=function(){return n},n}var Hn=u.c.div(Jn()),An=u.c.div(In()),Vn=Object(u.d)(Xn()),Un=u.c.div(Rn(),Vn,Object(ln.a)(.2,"#f4ede8"),Object(ln.a)(.2,"#ff9000")),Yn=u.c.div(Gn(),mn.a),Qn=function(){var n=Object(r.useState)(!1),e=Object(b.a)(n,2),t=e[0],o=e[1],i=Object(r.useRef)(null),l=R().addToast,u=Object(r.useCallback)(function(){var n=Object(f.a)(m.a.mark((function n(e){var t,r,a,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),null===(t=i.current)||void 0===t||t.setErrors({}),r=V.b().shape({email:V.d().required("E-mail obrigat\xf3rio").email("Digite um e-mail v\xe1lido")}),n.next=6,r.validate(e,{abortEarly:!1});case 6:return n.next=8,h.post("/password/forgot",{email:e.email});case 8:l({type:"success",title:"E-mail de recupera\xe7\xe3o de senha enviado",description:"Enviamos um e-mail para confirmar a recupera\xe7\xe3o de senha, cheque sua caixa de entrada"}),n.next=18;break;case 11:if(n.prev=11,n.t0=n.catch(0),!(n.t0 instanceof V.a)){n.next=17;break}return c=U(n.t0),null===(a=i.current)||void 0===a||a.setErrors(c),n.abrupt("return");case 17:l({type:"error",title:"Erro na recupera\xe7\xe3o de senha",description:"Ocorreu um erro ao tentar realizar a recupera\xe7\xe3o de senha, tente novamente."});case 18:return n.prev=18,o(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[0,11,18,21]])})));return function(e){return n.apply(this,arguments)}}(),[l]);return a.a.createElement(Hn,null,a.a.createElement(An,null,a.a.createElement(Un,null,a.a.createElement("img",{src:Q.a,alt:"GoBarber"}),a.a.createElement(A.a,{ref:i,onSubmit:u},a.a.createElement("h1",null,"Recuperar senha"),a.a.createElement(cn,{name:"email",icon:k.i,placeholder:"E-mail"}),a.a.createElement(dn,{loading:t,type:"submit"},"Recuperar")),a.a.createElement(c.b,{to:"/"},a.a.createElement(k.h,null),"Voltar ao login"))),a.a.createElement(Yn,null))};function Wn(){var n=Object(l.a)(["\n  flex: 1;\n  background: url(",") no-repeat center;\n  background-size: cover;\n"]);return Wn=function(){return n},n}function Ln(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  animation: "," 1s;\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n\n    h1 {\n      margin-bottom: 24px;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n\n  > a {\n    color: #ff9000;\n    display: block;\n    margin-top: 24px;\n    text-decoration: none;\n    transition: color 0.2s;\n\n    display: flex;\n    align-items: center;\n\n    svg {\n      margin-right: 16px;\n    }\n\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return Ln=function(){return n},n}function Kn(){var n=Object(l.a)(["\n  from {\n    opacity: 0;\n    transform: translateX(-50px)\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0)\n  }\n"]);return Kn=function(){return n},n}function Zn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  max-width: 700px;\n"]);return Zn=function(){return n},n}function $n(){var n=Object(l.a)(["\n  height: 100vh;\n  display: flex;\n  align-items: stretch;\n"]);return $n=function(){return n},n}var ne=u.c.div($n()),ee=u.c.div(Zn()),te=Object(u.d)(Kn()),re=u.c.div(Ln(),te,Object(ln.a)(.2,"#f4ede8"),Object(ln.a)(.2,"#ff9000")),ae=u.c.div(Wn(),mn.a),oe=function(){var n=Object(r.useRef)(null),e=R().addToast,t=Object(I.g)(),o=Object(I.h)(),i=Object(r.useCallback)(function(){var r=Object(f.a)(m.a.mark((function r(a){var i,c,l,u,s,d,p;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,null===(i=n.current)||void 0===i||i.setErrors({}),c=V.b().shape({password:V.d().required("Senha obrigat\xf3ria"),password_confirmation:V.d().oneOf([V.c("password"),void 0],"Confirma\xe7\xe3o incorreta")}),r.next=5,c.validate(a,{abortEarly:!1});case 5:if(l=a.password,u=a.password_confirmation,s=o.search.replace("?token=","")){r.next=9;break}throw new Error("");case 9:return r.next=11,h.post("/password/reset",{password:l,password_confirmation:u,token:s});case 11:t.push("/"),r.next=21;break;case 14:if(r.prev=14,r.t0=r.catch(0),!(r.t0 instanceof V.a)){r.next=20;break}return p=U(r.t0),null===(d=n.current)||void 0===d||d.setErrors(p),r.abrupt("return");case 20:e({type:"error",title:"Erro ao resetar senha",description:"Ocorreu um erro ao resetar sua senha, tente novamente"});case 21:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(n){return r.apply(this,arguments)}}(),[e,t,o.search]);return a.a.createElement(ne,null,a.a.createElement(ee,null,a.a.createElement(re,null,a.a.createElement("img",{src:Q.a,alt:"GoBarber"}),a.a.createElement(A.a,{ref:n,onSubmit:i},a.a.createElement("h1",null,"Resetar senha"),a.a.createElement(cn,{name:"password",icon:k.g,type:"password",placeholder:"Nova senha"}),a.a.createElement(cn,{name:"password_confirmation",icon:k.g,type:"password",placeholder:"Confirma\xe7\xe3o da senha"}),a.a.createElement(dn,{type:"submit"},"Alterar senha")))),a.a.createElement(ae,null))},ie=t(39),ce=t.n(ie);function le(){var n=Object(l.a)(["\n  margin-bottom: 32px;\n  position: relative;\n  align-self: center;\n\n  img {\n    width: 156px;\n    height: 156px;\n    border-radius: 50%;\n  }\n\n  label {\n    position: absolute;\n    width: 44px;\n    height: 44px;\n    background: #ff9000;\n    border-radius: 50%;\n    right: 0;\n    bottom: 0;\n    border: 0;\n    cursor: pointer;\n    transition: background-color 0.2s;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    input {\n      display: none;\n    }\n\n    svg {\n      width: 20px;\n      height: 20px;\n      color: #312e38;\n    }\n\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return le=function(){return n},n}function ue(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: -160px auto 0;\n\n  width: 100%;\n\n  form {\n    margin: 80px 0;\n    width: 340px;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n\n    h1 {\n      margin-bottom: 24px;\n      font-size: 20px;\n      text-align: left;\n    }\n\n    a {\n      color: #f4ede8;\n      display: block;\n      margin-top: 24px;\n      text-decoration: none;\n      transition: color 0.2s;\n\n      &:hover {\n        color: ",";\n      }\n    }\n  }\n"]);return ue=function(){return n},n}function se(){var n=Object(l.a)(["\n  > header {\n    height: 120px;\n    background: #28262e;\n    display: flex;\n    align-items: center;\n\n    a {\n      svg {\n        color: #999591;\n        width: 24px;\n        height: 24px;\n      }\n    }\n  }\n"]);return se=function(){return n},n}var de=u.c.div(se()),pe=u.c.div(ue(),Object(ln.a)(.2,"#f4ede8")),me=u.c.div(le(),Object(ln.a)(.2,"#ff9000")),fe=function(){var n=Object(r.useRef)(null),e=R().addToast,t=Object(I.g)(),o=E(),i=o.user,l=o.updateUser,u=Object(r.useCallback)(function(){var r=Object(f.a)(m.a.mark((function r(a){var o,i,c,u,s,d,p,f,b,g,v;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,null===(o=n.current)||void 0===o||o.setErrors({}),i=V.b().shape({name:V.d().required("Nome obrigat\xf3rio"),email:V.d().required("E-mail obrigat\xf3rio").email("Digite um e-mail v\xe1lido"),old_password:V.d(),password:V.d().when("old_password",{is:function(n){return!!n.length},then:V.d().required("Campo obrigat\xf3rio"),otherwise:V.d()}),password_confirmation:V.d().when("old_password",{is:function(n){return!!n.length},then:V.d().required("Campo obrigat\xf3rio"),otherwise:V.d()}).oneOf([V.c("password"),void 0],"Confirma\xe7\xe3o incorreta")}),r.next=5,i.validate(a,{abortEarly:!1});case 5:return c=a.name,u=a.email,s=a.old_password,d=a.password,p=a.password_confirmation,f=Object.assign({name:c,email:u},s?{old_password:s,password:d,password_confirmation:p}:{}),r.next=9,h.put("/profile",f);case 9:b=r.sent,l(b.data),t.push("/dashboard"),e({type:"success",title:"Perfil atualizado!",description:"Sua informa\xe7\xf5es do perfil foram atualizadas com sucesso!"}),r.next=22;break;case 15:if(r.prev=15,r.t0=r.catch(0),!(r.t0 instanceof V.a)){r.next=21;break}return v=U(r.t0),null===(g=n.current)||void 0===g||g.setErrors(v),r.abrupt("return");case 21:e({type:"error",title:"Erro na atualiza\xe7\xe3o",description:"Ocorreu um erro ao atualizar o perfil, tente novamente"});case 22:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(n){return r.apply(this,arguments)}}(),[e,t,l]),s=Object(r.useCallback)((function(n){if(n.target.files){var t=new FormData;t.append("avatar",n.target.files[0]),h.patch("/users/avatar",t).then((function(n){l(n.data),e({type:"success",title:"Avatar atualizado!"})}))}}),[e,l]);return a.a.createElement(de,null,a.a.createElement("header",null,a.a.createElement(c.b,{to:"/dashboard"},a.a.createElement(k.b,null))),a.a.createElement(pe,null,a.a.createElement(A.a,{ref:n,initialData:{name:i.name,email:i.email},onSubmit:u},a.a.createElement(me,null,i.avatar_url?a.a.createElement("img",{src:i.avatar_url,alt:i.name}):a.a.createElement("img",{src:ce.a,alt:"user not avatar"}),a.a.createElement("label",{htmlFor:"avatar"},a.a.createElement(k.c,null),a.a.createElement("input",{type:"file",id:"avatar",onChange:s}))),a.a.createElement("h1",null,"Meu perfil"),a.a.createElement(cn,{name:"name",icon:k.k,placeholder:"Nome"}),a.a.createElement(cn,{name:"email",icon:k.i,placeholder:"E-mail"}),a.a.createElement(cn,{containerStyle:{marginTop:24},name:"old_password",icon:k.g,type:"password",placeholder:"Senha atual"}),a.a.createElement(cn,{name:"password",icon:k.g,type:"password",placeholder:"Nova senha"}),a.a.createElement(cn,{name:"password_confirmation",icon:k.g,type:"password",placeholder:"Confirmar senha"}),a.a.createElement(dn,{type:"submit"},"Confrimar mudan\xe7as"))))},be=t(56),ge=t(120),he=t(118),ve=t(119),xe=t(121),Ee=t(57),ye=t(80),je=t.n(ye);t(114);function Oe(){var n=Object(l.a)(["\n  width: 350px;\n  margin-top: 30px;\n  .DayPicker {\n    background: #28262e;\n    border-radius: 10px;\n  }\n\n  .DayPicker-wrapper {\n    padding-bottom: 0;\n  }\n\n  .DayPicker,\n  .DayPicker-Month {\n    width: 100%;\n  }\n\n  .DayPicker-Month {\n    border-collapse: separate;\n    border-spacing: 8px;\n    margin: 16px;\n  }\n\n  .DayPicker-Day {\n    width: 40px;\n    height: 40px;\n  }\n\n  .DayPicker-Day--available:not(.DayPicker-Day--outside) {\n    background: #3e3b47;\n    border-radius: 10px;\n    color: #fff;\n  }\n\n  .DayPicker:not(.DayPicker--interactionDisabled)\n    .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n    background: ",";\n  }\n\n  .DayPicker-Day--today {\n    font-weight: normal;\n  }\n\n  .DayPicker-Day--disabled {\n    color: #666360 !important;\n    background: transparent !important;\n  }\n\n  .DayPicker-Day--selected {\n    background: #ff9000 !important;\n    border-radius: 10px;\n    color: #232129 !important;\n  }\n"]);return Oe=function(){return n},n}function ke(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  & + div {\n    margin-top: 16px;\n  }\n\n  span {\n    margin-left: auto;\n    display: flex;\n    align-items: center;\n    color: #f4ede8;\n    width: 70px;\n\n    svg {\n      color: #ff9000;\n      margin-right: 8px;\n    }\n  }\n\n  div {\n    flex: 1;\n    background: #3e3b47;\n    display: flex;\n    align-items: center;\n    padding: 12px 24px;\n    border-radius: 10px;\n    margin-left: 24px;\n\n    img {\n      width: 46px;\n      height: 46px;\n      border-radius: 50%;\n    }\n\n    strong {\n      margin-left: 24px;\n      color: #fff;\n      font-size: 20px;\n    }\n  }\n"]);return ke=function(){return n},n}function we(){var n=Object(l.a)(["\n  margin-top: 48px;\n\n  > strong {\n    color: #999591;\n    font-size: 20px;\n    line-height: 26px;\n    border-bottom: 1px solid #3e3b47;\n    display: block;\n    padding-bottom: 16px;\n    margin-bottom: 16px;\n  }\n\n  > p {\n    color: #999591;\n  }\n"]);return we=function(){return n},n}function De(){var n=Object(l.a)(['\n  margin-top: 64px;\n\n  > strong {\n    color: #999591;\n    font-size: 20px;\n    font-weight: 400;\n  }\n\n  div {\n    background: #3e3b47;\n    display: flex;\n    align-items: center;\n    padding: 16px 24px;\n    border-radius: 10px;\n    margin-top: 24px;\n    position: relative;\n\n    &::before {\n      position: absolute;\n      height: 80%;\n      width: 1px;\n      left: 0;\n      top: 10%;\n      content: "";\n      background: #ff9000;\n    }\n\n    img {\n      width: 80px;\n      height: 80px;\n      border-radius: 50%;\n    }\n\n    strong {\n      margin-left: 24px;\n      color: #fff;\n    }\n\n    span {\n      margin-left: auto;\n      display: flex;\n      align-items: center;\n      color: #999591;\n\n      svg {\n        color: #ff9000;\n        margin-right: 8px;\n      }\n    }\n  }\n']);return De=function(){return n},n}function Se(){var n=Object(l.a)(['\n  h1 {\n    font-size: 36px;\n  }\n\n  p {\n    margin-top: 8px;\n    color: #ff9000;\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n\n    span {\n      display: flex;\n      align-items: center;\n    }\n\n    span + span::before {\n      content: "";\n      width: 1px;\n      height: 12px;\n      background: #ff9000;\n      margin: 0 8px;\n    }\n  }\n']);return Se=function(){return n},n}function Ce(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 54px auto;\n"]);return Ce=function(){return n},n}function ze(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  img {\n    width: 46px;\n    height: 46px;\n    border-radius: 50%;\n  }\n\n  div {\n    display: flex;\n    flex-direction: column;\n    margin-left: 16px;\n    line-height: 24px;\n\n    span {\n      color: #f4ede8;\n    }\n\n    a {\n      text-decoration: none;\n      color: #ff9000;\n      font-size: 14px;\n\n      &:hover {\n        opacity: 0.8;\n      }\n    }\n  }\n"]);return ze=function(){return n},n}function Pe(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-around;\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n\n  > img {\n    height: 60px;\n  }\n\n  button {\n    background: transparent;\n    border: 0;\n\n    svg {\n      color: #999591;\n      width: 20px;\n      height: 20px;\n    }\n  }\n"]);return Pe=function(){return n},n}function _e(){var n=Object(l.a)(["\n  padding: 32px 0;\n  background: #28262e;\n"]);return _e=function(){return n},n}function Me(){var n=Object(l.a)([""]);return Me=function(){return n},n}var Fe=u.c.div(Me()),Be=u.c.header(_e()),Ne=u.c.div(Pe()),Te=u.c.div(ze()),qe=u.c.main(Ce()),Ge=u.c.div(Se()),Re=u.c.div(De()),Xe=u.c.section(we()),Ie=u.c.div(ke()),Je=u.c.aside(Oe(),Object(ln.a)(.2,"#3e3b47")),He=function(){var n=E(),e=n.user,t=n.signOut,o=Object(r.useState)(new Date),i=Object(b.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)(new Date),d=Object(b.a)(s,2),p=d[0],m=d[1],f=Object(r.useState)([]),g=Object(b.a)(f,2),v=g[0],x=g[1],j=Object(r.useState)([]),O=Object(b.a)(j,2),w=O[0],D=O[1],S=Object(r.useCallback)((function(n,e){e.available&&!e.disabled&&u(n)}),[]),C=Object(r.useCallback)((function(n){m(n)}),[]);Object(r.useEffect)((function(){h.get("/providers/".concat(e.id,"/month-availability"),{params:{year:p.getFullYear(),month:p.getMonth()+1}}).then((function(n){x(n.data)}))}),[p,e.id]),Object(r.useEffect)((function(){h.get("appointments/me",{params:{year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate()}}).then((function(n){var e=n.data.map((function(n){return Object(be.a)(Object(be.a)({},n),{},{hourFormatted:Object(ge.a)(Object(he.a)(n.date),"HH:mm")})}));D(e)}))}),[l]);var z=Object(r.useMemo)((function(){return v.filter((function(n){return!1===n.available})).map((function(n){var e=p.getFullYear(),t=p.getMonth();return new Date(e,t,n.day)}))}),[p,v]),P=Object(r.useMemo)((function(){return Object(ge.a)(l,"'Dia' dd 'de' MMMM",{locale:Ee.a})}),[l]),_=Object(r.useMemo)((function(){return Object(ge.a)(l,"cccc",{locale:Ee.a})}),[l]),M=Object(r.useMemo)((function(){return w.filter((function(n){return Object(he.a)(n.date).getHours()<12}))}),[w]),F=Object(r.useMemo)((function(){return w.filter((function(n){return Object(he.a)(n.date).getHours()>=12}))}),[w]),B=Object(r.useMemo)((function(){return w.find((function(n){return Object(ve.a)(Object(he.a)(n.date),new Date)}))}),[w]);return a.a.createElement(Fe,null,a.a.createElement(Be,null,a.a.createElement(Ne,null,a.a.createElement("img",{src:Q.a,alt:"GoBarber"}),a.a.createElement(Te,null,e.avatar_url?a.a.createElement("img",{src:e.avatar_url,alt:e.name}):a.a.createElement("img",{src:ce.a,alt:"user not avatar"}),a.a.createElement("div",null,a.a.createElement("span",null,"Bem-vindo,"),a.a.createElement(c.b,{to:"/profile"},a.a.createElement("strong",null,e.name)))),a.a.createElement("button",{type:"button",onClick:t},a.a.createElement(k.j,null)))),a.a.createElement(qe,null,a.a.createElement(Ge,null,a.a.createElement("h2",null,"Hor\xe1rios agendados"),a.a.createElement("p",null,Object(xe.a)(l)&&a.a.createElement("span",null,"Hoje"),a.a.createElement("span",null,P),a.a.createElement("span",null,_)),Object(xe.a)(l)&&B&&a.a.createElement(Re,null,a.a.createElement("strong",null,"Agendamento a seguir"),a.a.createElement("div",null,a.a.createElement("img",{src:B.user.avatar_url,alt:B.user.name}),a.a.createElement("strong",null,B.user.name),a.a.createElement("span",null,a.a.createElement(k.e,null),B.hourFormatted))),a.a.createElement(Je,null,a.a.createElement(je.a,{weekdaysShort:["D","S","T","Q","Q","S","S"],fromMonth:new Date,disabledDays:[{daysOfWeek:[0,6]}].concat(Object(y.a)(z)),modifiers:{available:{daysOfWeek:[1,2,3,4,5]}},onMonthChange:C,selectedDays:l,onDayClick:S,months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]})),a.a.createElement(Xe,null,a.a.createElement("strong",null,"Manh\xe3"),0===M.length&&a.a.createElement("p",null,"Nenhum agendamento neste per\xedodo"),M.map((function(n){return a.a.createElement(Ie,{key:n.id},a.a.createElement("span",null,a.a.createElement(k.e,null),n.hourFormatted),a.a.createElement("div",null,a.a.createElement("img",{src:n.user.avatar_url?n.user.avatar_url:ce.a,alt:n.user.name}),a.a.createElement("strong",null,n.user.name)))}))),a.a.createElement(Xe,null,a.a.createElement("strong",null,"Tarde"),0===F.length&&a.a.createElement("p",null,"Nenhum agendamento neste per\xedodo"),F.map((function(n){return a.a.createElement(Ie,{key:n.id},a.a.createElement("span",null,a.a.createElement(k.e,null),n.hourFormatted),a.a.createElement("div",null,a.a.createElement("img",{src:n.user.avatar_url?n.user.avatar_url:ce.a,alt:n.user.name}),a.a.createElement("strong",null,n.user.name)))}))))))},Ae=function(){return a.a.createElement(I.d,null,a.a.createElement(H,{path:"/",exact:!0,component:kn}),a.a.createElement(H,{path:"/signup",component:qn}),a.a.createElement(H,{path:"/forgot-password",component:Qn}),a.a.createElement(H,{path:"/reset-password",component:oe}),a.a.createElement(H,{path:"/profile",component:fe,isPrivate:!0}),a.a.createElement(H,{path:"/dashboard",component:He,isPrivate:!0}))},Ve=function(){return a.a.createElement(c.a,null,a.a.createElement(X,null,a.a.createElement(Ae,null)),a.a.createElement(d,null))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ve,null)),document.getElementById("root"))},25:function(n,e,t){n.exports=t.p+"static/media/logo.a49b07ec.svg"},37:function(n,e,t){n.exports=t.p+"static/media/sign-in-background.6eac314f.png"},39:function(n,e,t){n.exports=t.p+"static/media/placeholder.97fd5c8f.png"},79:function(n,e,t){n.exports=t.p+"static/media/sign-up-background.c4d8f988.png"},81:function(n,e,t){n.exports=t(115)}},[[81,1,2]]]);
//# sourceMappingURL=main.4c2d215b.chunk.js.map